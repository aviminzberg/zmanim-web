<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>זמני יום</title>
  <style>
    body {
      margin: 0;
      background: #111;
      color: white;
      font-family: "Segoe UI", sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      height: 100vh;
      padding: 40px 20px;
      font-size: 1.5rem;
    }

    h1 {
      font-size: 3rem;
      margin: 10px;
      color: #4da6ff;
    }

    #clock {
      font-size: 6rem;
      font-weight: bold;
      margin-bottom: 10px;
      text-align: center;
    }

    #countdown {
      font-size: 3rem;
      font-weight: bold;
      margin-bottom: 30px;
      text-align: center;
    }

    .zman-list {
      width: 100%;
      max-width: 600px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .zman {
      background: #222;
      border-radius: 15px;
      padding: 25px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
    }

    .zman.highlight {
      background: #0047ab;
      color: white;
    }

    .zman.shabbos {
      background: #f4c542;
      color: #111;
      font-weight: bold;
    }

    .zman-name {
      font-weight: bold;
      font-size: 1.6rem;
    }

    .zman-time {
      font-family: monospace;
      font-size: 1.6rem;
    }
  </style>
</head>
<body>
  <h1 id="currentZmanLabel">⌛ טוען...</h1>
  <div id="clock">00:00</div>
  <div id="countdown">(00:00)</div>
  <div class="zman-list" id="zmanList"></div>

  <script>
    const weekdayOffsets = {
      "עלות השחר": -72,
      "משיכיר": -51,
      "ברכות": -27,
      "ישתבח": -8,
      "הנץ שמו\"ע": 0
    };

    const shabbosOffsets = {
      "עלות השחר": -72,
      "משיכיר": -50,
      "ברכות": -45,
      "רבי ישמעל": -37,
      "ישתבח": -14,
      "הנץ שמו\"ע": 0
    };

    const zmanListEl = document.getElementById("zmanList");
    const labelEl = document.getElementById("currentZmanLabel");
    const clockEl = document.getElementById("clock");
    const countdown = document.getElementById("countdown");

    function formatTime(date) {
      return date.toLocaleTimeString("he-IL", { hour: '2-digit', minute: '2-digit' });
    }

    function formatCountdown(seconds) {
      const m = String(Math.floor(seconds / 60)).padStart(2, '0');
      const s = String(seconds % 60).padStart(2, '0');
      return `(${m}:${s})`;
    }

    function updateClockDisplay() {
      const now = new Date();
      clockEl.textContent = formatTime(now);
    }

    function renderZmanim(zmanim, isShabbos) {
      zmanListEl.innerHTML = "";
      for (const [name, time] of zmanim) {
        const div = document.createElement("div");
        div.className = "zman" + (isShabbos ? " shabbos" : "");
        div.innerHTML = `<div class="zman-name">${name}</div><div class="zman-time">${

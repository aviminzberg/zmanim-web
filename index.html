async function fetchCalendarInfo() {
  try {
    const res = await fetch("https://corsproxy.io/?https://www.sefaria.org/api/calendar");
    const parsed = await res.json();
    const parsha = parsed.parashat || '---';
    const daf = parsed.dafYomi?.he || '---';
    let candleTime = '---';

    if (parsed.items && Array.isArray(parsed.items)) {
      const candle = parsed.items.find(item => item.title?.includes("הדלקת נרות") || item.he?.includes("הדלקת נרות"));
      if (candle && candle.date) {
        candleTime = new Date(candle.date).toLocaleTimeString("he-IL", {
          hour: '2-digit',
          minute: '2-digit'
        });
      }
    }

    calendarInfoEl.innerHTML = `
      <div class="text-xl space-y-1">
        📖 פרשת השבוע: ${parsha}<br>
        📘 דף יומי: ${daf}<br>
        🕯️🕯️ הדלקת נרות: ${candleTime}
      </div>
    `;
  } catch (e) {
    console.error("Calendar API error:", e);
    calendarInfoEl.innerHTML = `<div class="text-xl">שגיאה בטעינת נתוני לוח השנה</div>`;
  }
}
